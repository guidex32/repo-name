<!doctype html>
<html lang="ru">
<head>
  <title>guide</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
      background: #f5f5f7;
      opacity: 0;
      transition: opacity 0.8s ease;
    }
    body.loaded {
      opacity: 1;
    }
    nav {
      background: #161617cc;
      color: #fff;
      padding: 0 40px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .nav-content {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 44px;
    }
    .logo-container {
      margin-right: 30px;
      width: 32px;
      height: 32px;
      position: relative;
    }
    .logo {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: contain;
      transition: opacity 0.4s;
      opacity: 1;
    }
    .logo.fade {
      opacity: 0;
    }
    ul.menu {
      list-style: none;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0;
      padding: 0;
      min-height: 44px;
    }
    ul.menu li {
      padding: 0 16px;
      position: relative;
    }
    ul.menu li a {
      color: #fff;
      text-decoration: none;
      font-size: 15px;
      transition: all 0.3s ease;
      opacity: 0;
      transform: translateY(10px);
      padding: 8px 12px;
      border-radius: 18px;
    }
    body.loaded ul.menu li a {
      opacity: 1;
      transform: translateY(0);
    }
    /* Активная страница */
    ul.menu li a.active {
      border: 1px solid #fff;
    }
    /* Эффекты при наведении */
    ul.menu li a:hover {
      background: #fff;
      color: #000 !important;
    }
    /* Активная страница при наведении */
    ul.menu li a.active:hover {
      background: #fff;
      color: #000 !important;
    }
    .menu-item-delay-1 { transition-delay: 0.1s !important; }
    .menu-item-delay-2 { transition-delay: 0.2s !important; }
    .menu-item-delay-3 { transition-delay: 0.3s !important; }
    .menu-item-delay-4 { transition-delay: 0.4s !important; }
    .menu-item-delay-5 { transition-delay: 0.5s !important; }
  </style>
</head>
<body>

<nav>
  <div class="nav-content">
    <div class="logo-container" id="logoContainer">
      <img class="logo" id="logo" src="https://emojigraph.org/media/apple/grinning-face_1f600.png" alt="Apple Emoji">
    </div>
    <ul class="menu" id="mainMenu"></ul>
  </div>
</nav>

<script>
// Массив с путями к изображениям Apple эмодзи
const appleEmojiImages = [
  'https://emojigraph.org/media/apple/grinning-face_1f600.png',
  'https://emojigraph.org/media/apple/grinning-face-with-big-eyes_1f603.png',
  'https://emojigraph.org/media/apple/grinning-face-with-smiling-eyes_1f604.png',
  'https://emojigraph.org/media/apple/beaming-face-with-smiling-eyes_1f601.png',
  'https://emojigraph.org/media/apple/grinning-squinting-face_1f606.png',
  'https://emojigraph.org/media/apple/grinning-face-with-sweat_1f605.png',
  'https://emojigraph.org/media/apple/rolling-on-the-floor-laughing_1f923.png',
  'https://emojigraph.org/media/apple/face-with-tears-of-joy_1f602.png',
  'https://emojigraph.org/media/apple/slightly-smiling-face_1f642.png',
  'https://emojigraph.org/media/apple/upside-down-face_1f643.png',
  'https://emojigraph.org/media/apple/winking-face_1f609.png',
  'https://emojigraph.org/media/apple/smiling-face-with-smiling-eyes_1f60a.png',
  'https://emojigraph.org/media/apple/smiling-face-with-halo_1f607.png',
  'https://emojigraph.org/media/apple/smiling-face-with-hearts_1f970.png',
  'https://emojigraph.org/media/apple/smiling-face-with-heart-eyes_1f60d.png',
  'https://emojigraph.org/media/apple/star-struck_1f929.png',
  'https://emojigraph.org/media/apple/face-blowing-a-kiss_1f618.png',
  'https://emojigraph.org/media/apple/kissing-face_1f617.png'
];

let logoIndex = 0;
const logoEl = document.getElementById('logo');

function getRandomEmojiImage() {
  return appleEmojiImages[Math.floor(Math.random() * appleEmojiImages.length)];
}

function changeLogo() {
  logoEl.classList.add('fade');
  setTimeout(() => {
    logoEl.src = getRandomEmojiImage();
    logoEl.classList.remove('fade');
  }, 400);
}

// Инициализация первого лого
logoEl.src = getRandomEmojiImage();

// Меняем лого каждые 3 секунды
setInterval(changeLogo, 3000);

// JSON конфигурация меню с новыми названиями
const pageConfig = {
  "menuItems": [
    { "title": "Главная", "link": "#home", "delay": "delay-0" },
    { "title": "Музыка", "link": "2.html", "delay": "delay-1" },
    { "title": "Любимое", "link": "#favorites", "delay": "delay-2" }
  ]
};

// Создание меню с плавной загрузкой
const menu = document.getElementById('mainMenu');
pageConfig.menuItems.forEach((item, index) => {
  const li = document.createElement('li');
  const a = document.createElement('a');
  a.textContent = item.title;
  a.href = item.link;
  a.classList.add('menu-item-delay-' + index);
  
  // Проверяем текущую страницу
  if (window.location.hash === item.link) {
    a.classList.add('active');
  }
  
  li.appendChild(a);
  menu.appendChild(li);
});

// Обработчик для изменения активной страницы
menu.addEventListener('click', (e) => {
  if (e.target.tagName === 'A') {
    // Удаляем класс active у всех ссылок
    document.querySelectorAll('.menu a').forEach(link => {
      link.classList.remove('active');
    });
    // Добавляем класс active к текущей ссылке
    e.target.classList.add('active');
  }
});

// Активация плавной загрузки страницы
window.addEventListener('load', () => {
  document.body.classList.add('loaded');
  
  // Если нет хэша в URL, делаем "Главную" активной по умолчанию
  if (!window.location.hash) {
    const homeLink = document.querySelector('a[href="#home"]');
    if (homeLink) homeLink.classList.add('active');
  }
});
</script>
</body>
</html>